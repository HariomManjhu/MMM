<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title><%= title || "Nutrition App" %></title>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />

  <!-- Custom Hover Styling -->
  <style>
    /* Nav link hover effect */
    .nav-link {
      transition: all 0.3s ease;
    }

    .nav-link:hover {
      background-color: #0d6efd;
      color: #fff !important;
      border-radius: 5px;
    }

    /* Button hover glow effect */
    .btn:hover {
      transform: scale(1.05);
      box-shadow: 0 0 8px rgba(255, 255, 255, 0.3);
      transition: all 0.2s ease-in-out;
    }

    /* Search input hover effect */
    form input[type="search"]:hover {
      border-color: #0d6efd;
      box-shadow: 0 0 0 0.15rem rgba(13, 110, 253, 0.25);
    }
  </style>

  <!-- Your Custom CSS -->
  <link rel="stylesheet" href="/Style.css" />

  <!-- Favicon and theme -->
  <link rel="icon" href="/favicon.ico" />
  <meta name="theme-color" content="#0d6efd" />
</head>
<body>

<section id="title" class="gradient-background">
  <header class="p-3 text-bg-dark">
  <div class="container">
    <div class="row align-items-center">

      <!-- 1. Logo -->
      <div class="col-auto">
        <a href="/" class="d-flex align-items-center text-white text-decoration-none">
          <svg class="bi me-2" width="40" height="32" role="img" aria-label="Bootstrap">
            <use xlink:href="#bootstrap"></use>
          </svg>
        </a>
      </div>

      <!-- 2. Navigation Links -->
      <div class="col">
       <ul class="nav mb-2 justify-content-center mb-md-0">
  <li><a href="/" class="nav-link px-3 <%= currentPath === '/' ? 'bg-primary text-white rounded' : 'text-white' %>">Home</a></li>
  <li><a href="/dashboard" class="nav-link px-3 <%= currentPath === '/dashboard' ? 'bg-primary text-white rounded' : 'text-white' %>">Nutrition Dashboard</a></li>
  <li><a href="/logmeal" class="nav-link px-3 <%= currentPath === '/logmeal' ? 'bg-primary text-white rounded' : 'text-white' %>">Log Meal</a></li>
  <li><a href="/faq" class="nav-link px-3 <%= currentPath === '/faq' ? 'bg-primary text-white rounded' : 'text-white' %>">FAQs</a></li>
  <li><a href="/about" class="nav-link px-3 <%= currentPath === '/about' ? 'bg-primary text-white rounded' : 'text-white' %>">About</a></li>
</ul>
      </div> 


      <!-- 3. Search + Buttons -->
      <div class="col-auto d-flex align-items-center gap-2">
        <!-- Dynamic Buttons -->
        <% if (!session.user) { %>
          <a href="/login" class="btn btn-outline-light">Login</a>
          <a href="/register" class="btn btn-warning">Sign-up</a>
        <% } else { %>
          <!-- Profile Bubble -->
          <a href="/update-physical" 
             class="d-flex align-items-center justify-content-center rounded-circle bg-primary text-white fw-bold text-uppercase text-decoration-none"
             style="width: 40px; height: 40px;"
             title="Edit Physical Info">
            <%= session.user.email.charAt(0).toUpperCase() %>
          </a>

          <!-- Logout Trigger -->
          <button type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#logoutModal">
            Logout
          </button>
        <% } %>
      </div>

    </div>
  </div>
</header>
</section>
